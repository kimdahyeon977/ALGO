```
22%정도에서 딕셔너리 index 에러뜨는지 왜인지는 모르겠습니다,,,
```
```python
import sys
import heapq

input = sys.stdin.readline
min_q = []
max_q = []
level = {}

n = int(input())

for _ in range(n):
    P, L = map(int, input().split())
    heapq.heappush(max_q, (-L, -P))
    heapq.heappush(min_q, (L, P))
    level[P] = L
    
t = int(input())

for _ in range(t):
    order, *args = input().split()
    if order == 'add':
        heapq.heappush(max_q, (-int(args[1]), -int(args[0])))
        heapq.heappush(min_q, (int(args[1]), int(args[0])))
        level[P] = L

    elif order == 'recommend':
        if args[0] == '1':
            while max_q and level[-max_q[0][1]] != -max_q[0][0]:
                heapq.heappop(max_q)
            print(-max_q[0][1])
        else:
            while min_q and level[min_q[0][1]] != min_q[0][0]:
                heapq.heappop(min_q)
            print(min_q[0][1])
    elif order == 'solved':
        del level[int(args[0])]
```